
<ion-content slot="fixed">
  <ion-grid>
    <ion-row>
      <ion-col>
        <form [formGroup]="multiCitySearch">
          <ion-row>
            <ion-col>
              <!--place array-->
              <ion-content>
                <ion-row class="ion-justify-content-between" formArrayName="trips"
                  *ngFor="let trip of multiCitySearch.get('trips').controls; let i = index;">
                  <ion-col [formGroupName]="i">
                    <ion-row class="ion-justify-content-between">
                      <!--from-->
                      <ion-col size="3" (click)="selectCity('from',trip)">
                        <ion-input formControlName="from" hidden></ion-input>
                        <ion-row>
                          <ion-text>From</ion-text>
                        </ion-row>
                        <ion-row>
                          <ion-text>
                            {{trip.value.from !== null ? trip.value.from.city_code : 'MAS'}}
                          </ion-text>
                        </ion-row>
                        <ion-row>
                          <ion-text>
                            {{trip.value.from !== null ? trip.value.from.city_name : 'Chennai'}}
                          </ion-text>
                        </ion-row>
                      </ion-col>
                      <ion-col size="1">
                        <ion-icon src="../../../../../../assets/icons/letter.svg"></ion-icon>
                      </ion-col>
                      <!--exhange-->
                      <ion-col size="3" (click)="selectCity('to',trip)">
                        <ion-input formControlName="to" hidden></ion-input>
                        <ion-row>
                          <ion-text>To</ion-text>
                        </ion-row>
                        <ion-row>
                          <ion-text>
                            {{trip.value.to !== null ? trip.value.to.city_code : 'BAN'}}
                          </ion-text>
                        </ion-row>
                        <ion-row>
                          <ion-text>
                            {{trip.value.to !== null ? trip.value.to.city_name : 'Bangalore'}}
                          </ion-text>
                        </ion-row>
                      </ion-col>
                      <ion-col size="1">
                        <ion-icon src="../../../../../../assets/icons/letter.svg"></ion-icon>
                      </ion-col>
                      <!--to-->
                      <ion-col size="3" (click)="selectDate(trip)">
                        <ion-input formControlName="departure" hidden></ion-input>
                        <ion-row>
                          <ion-text>Depart</ion-text>
                        </ion-row>
                        <ion-row>
                          <ion-text>
                            {{trip.value.departure !== null ? (trip.value.departure | date : 'd LLL' | titlecase) : '25 Feb'}}
                          </ion-text>
                        </ion-row>
                        <ion-row>
                          <ion-text>
                            {{trip.value.departure !== null ? (trip.value.departure | date : 'EEE yyyy' | titlecase) : 'Tue,2020'}}
                          </ion-text>
                        </ion-row>
                      </ion-col>
                    </ion-row>
                  </ion-col>
                </ion-row>
              </ion-content>
              <!-- <ion-row class="ion-justify-content-between">
                <ion-col size="3">
                  <ion-row>
                    <ion-text>From</ion-text>
                  </ion-row>
                  <ion-row>
                    <ion-text>MAS</ion-text>
                  </ion-row>
                  <ion-row>
                    <ion-text>Chennai</ion-text>
                  </ion-row>
                </ion-col>
                <ion-col size="1">
                  <ion-icon src="../../../../../../assets/icons/letter.svg"></ion-icon>
                </ion-col>
                <ion-col size="3">
                  <ion-row>
                    <ion-text>To</ion-text>
                  </ion-row>
                  <ion-row>
                    <ion-text>CBE</ion-text>
                  </ion-row>
                  <ion-row>
                    <ion-text>Coimbatore</ion-text>
                  </ion-row>
                </ion-col>
                <ion-col size="1">
                  <ion-icon src="../../../../../../assets/icons/letter.svg"></ion-icon>
                </ion-col>
                <ion-col size="3">
                  <ion-row>
                    <ion-text>Depart</ion-text>
                  </ion-row>
                  <ion-row>
                    <ion-text>25 Feb</ion-text>
                  </ion-row>
                  <ion-row>
                    <ion-text>Tue,2020</ion-text>
                  </ion-row>
                </ion-col>
              </ion-row> -->
              <!--add array button-->
              <ion-row class="ion-justify-content-between">
                <!--depart-->
                <ion-col size="4" offset="4">
                  <!--add city button-->
                  <ion-item button lines="none" (click)="addTrip()">
                    <ion-icon name="add"></ion-icon>
                    <ion-text>{{'Add city' | titlecase}}</ion-text>
                  </ion-item>
                </ion-col>
              </ion-row>
              <!--depart/traveller-->
              <ion-row class="ion-justify-content-between">
                <!--class-->
                <ion-col size="4" (click)="selectPassengers()">
                  <ion-input formControlName="traveller" hidden></ion-input>
                  <ion-row>
                    <ion-text>Travellers</ion-text>
                  </ion-row>
                  <ion-row>
                    <ion-col *ngIf="(this.multiCitySearch.value.traveller == null) ||
                      (this.multiCitySearch.value.traveller?.adult <= 0 &&
                      this.multiCitySearch.value.traveller?.child <= 0 &&
                      this.multiCitySearch.value.traveller.infant <= 0)">
                      <ion-text>Select Passengers</ion-text>
                    </ion-col>
                    <ion-col *ngIf="this.multiCitySearch.value.traveller !== null">
                      <ion-row *ngIf="this.multiCitySearch.value.traveller.adult > 0">
                        <ion-col>
                          <ion-row>
                            <ion-text>{{this.multiCitySearch.value.traveller.adult}}</ion-text>
                          </ion-row>
                        </ion-col>
                        <ion-col>
                          <ion-row>
                            <ion-text>
                              Adult
                            </ion-text>
                          </ion-row>
                        </ion-col>
                      </ion-row>
                      <ion-row *ngIf="this.multiCitySearch.value.traveller.child > 0">
                        <ion-col>
                          <ion-row>
                            <ion-text>{{this.multiCitySearch.value.traveller.child}}</ion-text>
                          </ion-row>
                        </ion-col>
                        <ion-col>
                          <ion-row>
                            <ion-text>
                              Child
                            </ion-text>
                          </ion-row>
                        </ion-col>
                      </ion-row>
                      <ion-row *ngIf="this.multiCitySearch.value.traveller.infant > 0">
                        <ion-col>
                          <ion-row>
                            <ion-text>{{this.multiCitySearch.value.traveller.infant}}</ion-text>
                          </ion-row>
                        </ion-col>
                        <ion-col>
                          <ion-row>
                            <ion-text>
                              Infant
                            </ion-text>
                          </ion-row>
                        </ion-col>
                      </ion-row>
                    </ion-col>
                  </ion-row>
                </ion-col>
                <ion-col size="1">
                  <ion-icon src="../../../../../../assets/icons/letter.svg"></ion-icon>
                </ion-col>
                <!--blank-->
                <ion-col size="4" >
                  <ion-row>
                    <ion-text>Class</ion-text>
                  </ion-row>
                  <ion-row>
                    <ion-text (click)="selectClass()">
                      {{(this.multiCitySearch.value.class !== null ? this.multiCitySearch.value.class : 'Economy') | titlecase}}
                    </ion-text>
                    <ion-item hidden="true">
                      <ion-label>Class</ion-label>
                      <ion-select #select formControlName="class" cancelText="Cancel" okText="Confirm">
                        <ion-select-option value="economy">Economy</ion-select-option>
                        <ion-select-option value="premium economy">Premium Economy</ion-select-option>
                        <ion-select-option value="bussiness">Bussiness</ion-select-option>
                        <ion-select-option value="first class">First Class</ion-select-option>
                      </ion-select>
                    </ion-item>
                  </ion-row>
                </ion-col>
              </ion-row>
              <!--search button-->
              <ion-row>
                <ion-col size="6" offset="3">
                  <ion-item button (click)="searchFlight()">
                    <ion-text>{{'Search Flight' | titlecase}}</ion-text>
                  </ion-item>
                </ion-col>
              </ion-row>
            </ion-col>
          </ion-row>
        </form>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>