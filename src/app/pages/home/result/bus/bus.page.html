

<ion-content>

  <ion-row class="no-bus" *ngIf="(busresut$ | async | sort : (sortBy$ | async).property : (sortBy$ | async).state).length == 0">
    <ion-title class="large bold">No Bus Found</ion-title>
  </ion-row>

  <ion-card *ngFor="let item of (busresut$ | async | sort : (sortBy$ | async).property : (sortBy$ | async).state)"
    (click)="selectBus(item)">
    <ion-card-header>
      <ion-card-title class="bold large">{{ item.operatorName }}</ion-card-title>
      <ion-card-subtitle class="bold medium">{{ item.busType }}</ion-card-subtitle>
    </ion-card-header>
    <ion-card-content>
      <ion-row class="ion-justify-content-between">
        <ion-col>
          <ion-label class="bold">{{ departTime(item.departureTime) }}</ion-label>
          <ion-label> - {{ duration(item.durationInMins) }} - </ion-label>
          <ion-label class="bold">{{ arrivalTime(item.arrivalTime) }}</ion-label>
        </ion-col>
        <ion-col>
          <ion-label *ngIf="item.fare !== '0.0'" class="bold">{{ item.fare | currency : 'INR'}}</ion-label>
          <ion-label *ngIf="item.fare == '0.0'" class="bold highlight-text">Sold</ion-label>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-label>
          {{ item.availableSeats == 0 ? '' : item.availableSeats == 1 ? '1 Seat Left' : 
          item.availableSeats > 1 ? item.availableSeats + ' Seat Left' : '' }}
        </ion-label>
      </ion-row>
    </ion-card-content>
  </ion-card>
  
</ion-content>

<!-- <mat-accordion>
  <mat-expansion-panel hideToggle="true">
    <mat-expansion-panel-header collapsedHeight="fit-content" expandedHeight="fit-content">
      <ion-card>
        <ion-card-content>
          <ion-row>
            <ion-col>
              <ion-img src="../../../../../assets/icons/tnlogo/546px-TamilNadu_Logo.svg.png"></ion-img>
            </ion-col>
            <ion-col>
              <ion-row>
                <ion-label class="bold">State Transport</ion-label>
              </ion-row>
              <ion-row>
                <ion-label>TNSTC</ion-label>
              </ion-row>
              <ion-row>
                <ion-label>5 Buses</ion-label>
              </ion-row>
            </ion-col>
            <ion-col>
              <ion-row>
                <ion-label class="bold">{{'548' | currency : 'INR' : true:'2.0'}} -
                  {{'600' | currency : 'INR' : true:'2.0'}}
                </ion-label>
              </ion-row>
              <ion-row>
                <ion-label>
                  Find All Buses
                </ion-label>
              </ion-row>
            </ion-col>
          </ion-row>
        </ion-card-content>
      </ion-card>
    </mat-expansion-panel-header>
    <ion-card *ngFor="let item of result" (click)="selectBus()">
      <ion-card-header>
        <ion-row class="ion-justify-content-between">
          <ion-col>
            <ion-card-title>
              <ion-label class="bold">
                SETC Buses
              </ion-label>
            </ion-card-title>
          </ion-col>
          <ion-col>
            <ion-badge>4/5</ion-badge>
          </ion-col>
        </ion-row>
        <ion-row class="ion-justify-content-between">
          <ion-col>
            <ion-card-subtitle>
              <ion-label>
                Non AC Semi Sleeper (2+2)
              </ion-label>
            </ion-card-subtitle>
          </ion-col>
          <ion-col>
            <ion-label>97 Ratings</ion-label>
          </ion-col>
        </ion-row>
      </ion-card-header>
      <ion-card-content>
        <ion-row class="ion-justify-content-between">
          <ion-col>
            <ion-label class="bold">19:15</ion-label>
            <ion-label> - 9h 15min - </ion-label>
            <ion-label class="bold">04:30</ion-label>
            <ion-label>+1 day</ion-label>
          </ion-col>
          <ion-col>
            <ion-label class="bold">{{'750' | currency : 'INR'}}</ion-label>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-label>
            40 seats left
          </ion-label>
        </ion-row>
        <mat-divider></mat-divider>
        <ion-item>
          <ion-icon slot="start" src="../../../../../assets/ionicons/locate-outline.svg"></ion-icon>
          <ion-label class="bold">
            Live Tracking
          </ion-label>
        </ion-item>
      </ion-card-content>
    </ion-card>
  </mat-expansion-panel>
</mat-accordion> -->
